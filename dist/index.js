var $exampleText=$("#example-text"),$exampleDescription=$("#example-description"),$submitBtn=$("#submit"),$exampleList=$("#example-list"),$agreeBtn=$("#agree"),$continueBtn=$("to-needs"),API={savePerson:function(e){return $.ajax({headers:{"Content-Type":"application/json"},type:"POST",url:"/api/people",data:JSON.stringify(e)})},getEmail:function(e){return $.ajax({headers:{"Content-Type":"application/json"},type:"GET",url:"/api/email",data:JSON.stringify(e)})},getPublicNeeds:function(){return $.ajax({url:"api/needs/...",type:"GET"})},getPrivateNeeds:function(){return $.ajax({url:"api/needs/"+id,type:"GET"})},claimNeed:function(e){return $.ajax({url:"api/need/"+e,type:"POST"})},saveNeed:function(e){return $.ajax({headers:{"Content-Type":"application/json"},type:"POST",url:"/api/people",data:JSON.stringify(e)})}},refreshNeeds=function(){API.getNeeds().then(function(e){var t=e.map(function(e){var t=$("<a>").text(e.text).attr("href","/example/"+e.id),i=$("<li>").attr({class:"list-group-item","data-id":e.id}).append(t),a=$("<button>").addClass("btn btn-danger float-right delete").text("ï½˜");return i.append(a),i});$needsList.empty(),$needsList.append(t)})},handlePersonSubmit=function(e){e.preventDefault();var t=$("#first_name").val().trim(),i=$("#last_name").val().trim(),a=$("#email").val().trim(),n=$("#zip_code").val().trim(),l=$("#private").val(),r={first_name:t,last_name:i,email:a,zip_code:n,private:l};if(!(t&&i&&a&&n&&l))return alert("Be sure you have completed all required fields"),r;API.savePerson(r).then(function(e){sessionStorage.setItem(getEmail,a),console.log(r)})};handleNeedSubmit=function(e){e.preventDefault();var t=$("#title").val().trim(),i=$("#category").val().trim(),a=$("#details").val().trim(),n=sessionStorage.getItem(e,n),l={email:n,title:t,category:i,details:a};if(!(t&&i&&a))return alert("Be sure you have completed all required fields"),l;API.saveNeed(l).then(function(e){return console.log(e.id),sessionStorage.getItem(e,n)})};var handleClaimBtnClick=function(){var e=$(this).parent().attr("data-id");API.claimNeed(e).then(function(){refreshNeeds()})};!function(e){e.fn.invisible=function(){return this.each(function(){e(this).css("visibility","hidden")})},e.fn.visible=function(){return this.each(function(){e(this).css("visibility","visible")})}}(jQuery),$("#emailModal").on("click",function(){$("#emailModal").invisible(),$("#modal-need").visible()}),$("#needClose").on("click",function(){$("#modal-need").invisible(),$("#need2").visible()}),$(document).ready(function(){$("#needForm").invisible(),$(".modal").modal(),$("select").formSelect(),$(".parallax").parallax(),$(".tap-target").tapTarget(),$("select").formSelect(),$(".sidenav").sidenav(),$(".collapsible").collapsible(),$(".tooltipped").tooltip(),$(".fixed-action-btn").floatingActionButton()}),$exampleList.on("click",".delete",handleClaimBtnClick),$agreeBtn.on("click",handlePersonSubmit);